{
    "homepage": "https://github.com/visualboyadvance-m/visualboyadvance-m",
    "description": "Community-maintained, improved version of the VisualBoyAdvance Game Boy emulator",
    "version": "2.1.4",
    "license": "GPL-2.0-or-later",
    "architecture": {
        "32bit": {
            "url": "https://github.com/visualboyadvance-m/visualboyadvance-m/releases/download/v2.1.4/visualboyadvance-m-Win-32bit.zip",
            "hash": "753b896b5f6b1a05052ef8e6e5b06bc80f9d9b8dfc9870b0dbc282227b089e5d"
        },
        "64bit": {
            "url": "https://github.com/visualboyadvance-m/visualboyadvance-m/releases/download/v2.1.4/visualboyadvance-m-Win-64bit.zip",
            "hash": "e73cb3d4a0f6eb890549f04fef575ff4d9d3beb3b20b4877c4039cc2d9342311"
        }
    },
    "post_install": [
        "if (!(Test-Path \"$persist_dir\\vbam.ini.bak\")) {",
        "   Set-Content \"$dir\\vbam.ini\" '[General]'",
        "   Add-Content \"$dir\\vbam.ini\" 'OnlineUpdates=never'",
        "   'Battery', 'Recording', 'Screenshot', 'State' | ForEach-Object {",
        "   Add-Content -Path \"$dir\\vbam.ini\" -Value $_`Dir`=$_ }",
        "} else {",
        "   Copy-Item \"$persist_dir\\vbam.ini.bak\" \"$dir\\vbam.ini\"  -Force",
        "}"
    ],
    "uninstaller": {
        "script": "Copy-Item \"$dir\\vbam.ini\" \"$persist_dir\\vbam.ini.bak\" -Force"
    },
    "persist": [
        "Battery",
        "Recording",
        "Screenshot",
        "State"
    ],
    "bin": "visualboyadvance-m.exe",
    "shortcuts": [
        [
            "visualboyadvance-m.exe",
            "VisualBoyAdvance-M"
        ]
    ],
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "32bit": {
                "url": "https://github.com/visualboyadvance-m/visualboyadvance-m/releases/download/v$version/visualboyadvance-m-Win-32bit.zip"
            },
            "64bit": {
                "url": "https://github.com/visualboyadvance-m/visualboyadvance-m/releases/download/v$version/visualboyadvance-m-Win-64bit.zip"
            }
        }
    },
    "notes": "Configuration files cannot be persisted, but will be retained during the update"
}
