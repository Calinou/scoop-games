{
  "version": "1.1.10",
  "description": "Highly compatible N64 emulator",
  "homepage": "https://github.com/gopher64/gopher64",
  "license": "GPL-3.0",
  "notes": [
    "You must completely uninstall Bandicam and Mirillis Action if you have them installed; they are incompatible with gopher64.",
    "Wiki: https://github.com/gopher64/gopher64/wiki"
  ],
  "architecture": {
    "64bit": {
      "url": "https://github.com/gopher64/gopher64/releases/download/v1.1.10/gopher64-windows-x86_64.exe",
      "hash": "c605f21a8c4b478ecab7c619e604a77a8b12cf0abea4850521b0deea62be6f4e"
    }
  },
  "pre_install": [
    "$dataDir = Join-Path $persist_dir 'portable_data'",
    "if (!(Test-Path $dataDir)) {",
    "   New-Item $dataDir -ItemType Directory | Out-Null",
    "}",
    "if (Test-Path \"$env:APPDATA\\gopher64\") {",
    "   Write-Host \"Migrating AppData...\" -ForegroundColor Yellow",
    "   Copy-Item \"$env:APPDATA\\gopher64\\*\" $dataDir -Recurse -Force",
    "   Remove-Item \"$env:APPDATA\\gopher64\" -Recurse -Force",
    "}"
  ],
  "post_install": "New-item \"$dir\\portable.txt\" -ItemType File | Out-Null",
  "shortcuts": [["gopher64-windows-x86_64.exe", "Gopher64"]],
  "persist": "portable_data",
  "checkver": { "github": "https://github.com/gopher64/gopher64" },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://github.com/gopher64/gopher64/releases/download/v$version/gopher64-windows-x86_64.exe",
        "hash": {
          "mode": "json",
          "jsonpath": "$[0].assets[?(@.name == '$basename')].digest",
          "url": "https://api.github.com/repos/gopher64/gopher64/releases?per_page=1"
        }
      }
    }
  }
}
